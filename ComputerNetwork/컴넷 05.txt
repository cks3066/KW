오늘은 지난 시간에 이어서 소켓 프로그래밍을 하겠습니다.

우선 자료 PPT를 하기전에

공개된 자료가 있는데 이러한 자료를 10장까지는 다운로드해주시기 바랍니다.

-------------- 윤성우 열혈 TCP

네트워크 프로그래밍 
	-소켓이라는 것을 기반으로 프로그래밍을 하기 때문에 소켓 프로그래밍이라고도함
	-네트워크로 연결된 둘 이상의 컴퓨터 사이에서의 데이터 송수신 프로그램의 작성을 의미함

소켓
	-네트워크(인터넷)의 연결도구
	-운영체제에 의해 제공이 되는 소프트웨어적인 장치
	-소켓은 프로그래머에게 데이터 송수인에 대한 물리적, 소프트우어적 세세한 내용을 신경쓰지 않게함

소켓의 비유와 분류
	-TCP 소켓은 전화기에 비유될 수 있다.
	-소켓은 socket 함수의 호출을 통해서 생성한다.
	
	[server]	
	int socket	전화기를 삼
	int bind		전화번호 할당
	int listen		전화를 받을 수 있는 상태
	int accept	전화를 받음	-> 여기까지가 연결 설정 단계

	[client]
	int socket()
	int connect()	전화를 검		
		accept() <- connect() [연결요청]


	시험문제 - syntax
		서버 주소 혹은 포트넘버만 받아봐라
		둘다 받아 봐라.

	port번호
		0~1023은 잘 알려진 port로 이미 정해져있다.[well-known port]

	ip 주소 형태 - inet_addr(SERVER_IP)
	호소트 형태- =( SERVER_IP)
	
	htos	short
	htol	long

INADDR_ANY
	현재 실핼중인 컴퓨터의 IP를 소켓에 부여할때 사용되는 것이다.
	이는 서버 프로그램에 구현에 주로 사용된다.

포트번호를 받을 떄는
serv.sin_port = htons(4000);

serv.sin_port = htons(atoi(argv[0]); 
요런 식으로 인자로 받을때는 atoi 가 있어야 한다.
INADDR_ANY에 저장한뒤 하면 쉽다.

포트를 직접 넣는경우, 커맨드입력으로 넣는 경우, INADDR_ANY 구조체를 이용하는 경우
[세가지 경우에 대해서 구분할 수 있는 것이 시험문제 후보이다.]

-------------------------------------------------------------------
TCP 소켓 프로그래밍 서버, 클라이언트 구조와 실행방법 및 주의사항에 대해서 잘 파악할 것

socket()
	memset을 해주는게 좋음
	sin_family		AF_INET		PF_INET	[일과성있게 사용하자]
	sin_addr.s_addr	INAADR_ANY
	sin_port		htons(포트)
[setsockop()] 근본을 위한 옵션 [에러를 피하기 위해]
bind()
listen
accept() 자신의 소켓 아이디, 클라이언트의 정보
		read, write
close

--- setsockop() 옵션 함수 사용 > 근본있는 프로그래밍
--- getsockop()

소켓을 여러번 열었다가 닫으면 'port in use[already in use]' 이런 문제가 발생하는 경우가 많다.

-------------------------------------------------------------------
TCP 1:1	[1:2,1:3 접속이 되는지 확인]

